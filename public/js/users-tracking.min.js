/*!
  * This is users tracking behavior script
  * Copyright 2025 Modobom
  * Licensed under MIT
  */
!function(){"use strict";const e=function(){let e=localStorage.getItem("userUUID");e||(e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),localStorage.setItem("userUUID",e));return e}(),t=window.innerWidth<=768;let n=0,o=l(),i=l(),a=0,r=l();function s(){const e=l();a+=e-r,r=e}function c(e){let t=function(){const e=window.location.hostname;let t="";t="localhost"===e||"127.0.0.1"===e?"http://127.0.0.1:8000":"https://apkhype.com";return t+="/create-users-tracking",t}();fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).catch((e=>console.error("Error:",e)))}function d(t,n){const i=window.location.pathname+window.location.search,a={eventName:t,eventData:n,timestamp:function(){const e=new Date,t=e.getTime()+6e4*e.getTimezoneOffset(),n=new Date(t+252e5),o=n.getFullYear(),i=String(n.getMonth()+1).padStart(2,"0"),a=String(n.getDate()).padStart(2,"0"),r=String(n.getHours()).padStart(2,"0"),s=String(n.getMinutes()).padStart(2,"0"),c=String(n.getSeconds()).padStart(2,"0");return`${o}-${i}-${a} ${r}:${s}:${c}`}(),user:{userAgent:navigator.userAgent,platform:navigator.platform,language:navigator.language,cookiesEnabled:navigator.cookieEnabled,screenWidth:window.screen.width,screenHeight:window.screen.height,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone},domain:window.location.hostname,uuid:e,path:i};(function(){const e=l(),t=e-o,n=navigator.userAgent.toLowerCase(),i=[/bot/i,/spider/i,/crawler/i,/slurp/i,/googlebot/i,/bingbot/i,/yandexbot/i,/duckduckbot/i,/baiduspider/i,/facebot/i,/ia_archiver/i];for(const e of i)if(e.test(n))return!0;return t<100||(o=e,!1)})()||c(a)}function l(){const e=new Date,t=e.getTime()+6e3*e.getTimezoneOffset();return new Date(t+252e5).getTime()}window.addEventListener("focus",(()=>{r=Date.now()})),window.addEventListener("blur",(()=>{s()})),document.addEventListener("click",(e=>{const n=e.target;let o={x:e.pageX,y:e.pageY,target:n.tagName,href:n.href||"",isInternalLink:n.href&&n.href.includes(window.location.origin),isLassoButton:n.classList.contains("lasso-button"),lassoButtonLink:n.dataset.lassoLink||"",device:t?"mobile":"desktop"};"A"===n.tagName&&n.href.includes(window.location.hostname)?(o.href=n.href,o.isInternalLink=!0,d("internal_link_click",o)):"A"===n.tagName&&n.classList.contains("lasso-button")?(o.href=n.href,o.isLassoButton=!0,o.lassoButtonLink=!0,d("lasso_button_click",o)):d("click",o)})),document.addEventListener("mousemove",(e=>{const o=e.pageX,i=e.pageY;n++,d("mousemove",{x:o,y:i,mouseMovements:n,device:t?"mobile":"desktop"})})),document.addEventListener("scroll",(()=>{d("scroll",{scrollTop:window.scrollY,scrollLeft:window.scrollX,device:t?"mobile":"desktop"})})),document.addEventListener("input",(e=>{d("input",{target:e.target.tagName,value:e.target.value,device:t?"mobile":"desktop"})})),document.addEventListener("keydown",(e=>{d("keydown",{target:e.target.tagName,value:e.target.value,device:t?"mobile":"desktop"})})),window.addEventListener("resize",(function(){d("resize",{width:window.innerWidth,height:window.innerHeight,device:t?"mobile":"desktop"})})),window.addEventListener("beforeunload",(function(){let e=l();s(),d("beforeunload",{start:i,end:e,total:a,device:t?"mobile":"desktop"})}))}();